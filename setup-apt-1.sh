#!/bin/bash

set -x -e

export DEBIAN_FRONTEND=noninteractive;

# Install apt packages, listed from "apt list --installed" on colab container
apt update
apt install -y python3-minimal

apt install -y adduser adwaita-icon-theme apt-utils apt autoconf automake autotools-dev base-files base-passwd bash binutils-common binutils-x86-64-linux-gnu binutils blt bsdmainutils bsdutils build-essential bzip2 ca-certificates-java ca-certificates clang-10 clang clinfo cmake-data cmake comerr-dev coreutils cpp-9 cpp cuda-cccl-11-8 cuda-command-line-tools-11-8 cuda-compat-11-8 cuda-compiler-11-8 cuda-cudart-11-8 cuda-cudart-dev-11-8 cuda-cuobjdump-11-8 cuda-cupti-11-8 cuda-cupti-dev-11-8 cuda-cuxxfilt-11-8 cuda-driver-dev-11-8 cuda-gdb-11-8 cuda-libraries-11-8 cuda-libraries-dev-11-8 cuda-memcheck-11-8 cuda-minimal-build-11-8 cuda-nvcc-11-8 cuda-nvdisasm-11-8 cuda-nvml-dev-11-8 cuda-nvprof-11-8 cuda-nvprune-11-8 cuda-nvrtc-11-8 cuda-nvrtc-dev-11-8 cuda-nvtx-11-8 cuda-profiler-api-11-8 cuda-sanitizer-11-8 cuda-toolkit-11-8-config-common cuda-toolkit-11-config-common cuda-toolkit-config-common curl dash dbus-user-session dbus dconf-gsettings-backend dconf-service debconf debianutils default-libmysqlclient-dev diffutils dirmngr distro-info-data dpkg-dev dpkg e2fsprogs fdisk ffmpeg file findutils fio fontconfig-config fontconfig fonts-humor-sans fonts-liberation fuse g++-9 g++ gcc-10-base gcc-9-base gcc-9 gcc gdal-data gfortran-9 gfortran gir1.2-glib-2.0 gir1.2-packagekitglib-1.0 git-lfs git-man git glib-networking-common glib-networking-services glib-networking gnupg-l10n gnupg-utils gnupg2 gnupg google-perftools gpg-agent gpg-wks-client gpg-wks-server gpg gpgconf gpgsm gpgv graphviz grep groff-base gsettings-desktop-schemas gtk-update-icon-cache gzip hdf5-helpers hicolor-icon-theme hostname humanity-icon-theme ibverbs-providers icu-devtools init-system-helpers iproute2 iso-codes java-common kmod krb5-multidev less lib32gcc-s1 lib32stdc++6 libacl1 libaec-dev libaec0 libaio1 libann0 libaom0 libapparmor1 libappstream4 libapt-pkg-dev libapt-pkg6.0 libarchive13 libargon2-1 libarmadillo-dev libarmadillo9 libarpack2-dev libarpack2 libasan5 libasn1-8-heimdal libasound2-data libasound2-dev libasound2 libass9 libassuan0 libasyncns0 libatk-bridge2.0-0 libatk1.0-0 libatk1.0-data libatlas-base-dev libatlas3-base libatomic1 libatspi2.0-0 libattr1 libaudit-common libaudit1 libavahi-client3 libavahi-common-data libavahi-common3 libavc1394-0 libavcodec-dev libavcodec58 libavdevice58 libavfilter7 libavformat-dev libavformat58 libavresample-dev libavresample4 libavutil-dev libavutil56 libbinutils libblkid1 libblocksruntime-dev libblocksruntime0 libbluray2 libboost-all-dev libboost-atomic-dev libboost-atomic1.71-dev libboost-atomic1.71.0 libboost-chrono-dev libboost-chrono1.71-dev libboost-chrono1.71.0 libboost-container-dev libboost-container1.71-dev libboost-container1.71.0 libboost-context-dev libboost-context1.71-dev libboost-context1.71.0 libboost-coroutine-dev libboost-coroutine1.71-dev libboost-coroutine1.71.0 libboost-date-time-dev libboost-date-time1.71-dev libboost-date-time1.71.0 libboost-dev libboost-exception-dev libboost-exception1.71-dev libboost-fiber-dev libboost-fiber1.71-dev libboost-fiber1.71.0 libboost-filesystem-dev libboost-filesystem1.71-dev libboost-filesystem1.71.0 libboost-graph-dev libboost-graph-parallel-dev libboost-graph-parallel1.71-dev libboost-graph-parallel1.71.0 libboost-graph1.71-dev libboost-graph1.71.0 libboost-iostreams-dev libboost-iostreams1.71-dev libboost-iostreams1.71.0 libboost-locale-dev libboost-locale1.71-dev libboost-locale1.71.0 libboost-log-dev libboost-log1.71-dev libboost-log1.71.0 libboost-math-dev libboost-math1.71-dev libboost-math1.71.0 libboost-mpi-dev libboost-mpi-python-dev libboost-mpi-python1.71-dev libboost-mpi-python1.71.0 libboost-mpi1.71-dev libboost-mpi1.71.0 libboost-numpy-dev libboost-numpy1.71-dev libboost-numpy1.71.0 libboost-program-options-dev libboost-program-options1.71-dev libboost-program-options1.71.0 libboost-python-dev libboost-python1.71-dev libboost-python1.71.0 libboost-random-dev libboost-random1.71-dev libboost-random1.71.0 libboost-regex-dev libboost-regex1.71-dev libboost-regex1.71.0 libboost-serialization-dev libboost-serialization1.71-dev libboost-serialization1.71.0 libboost-stacktrace-dev libboost-stacktrace1.71-dev libboost-stacktrace1.71.0 libboost-system-dev libboost-system1.71-dev libboost-system1.71.0 libboost-test-dev libboost-test1.71-dev libboost-test1.71.0 libboost-thread-dev libboost-thread1.71-dev libboost-thread1.71.0 libboost-timer-dev libboost-timer1.71-dev libboost-timer1.71.0 libboost-tools-dev libboost-type-erasure-dev libboost-type-erasure1.71-dev libboost-type-erasure1.71.0 libboost-wave-dev libboost-wave1.71-dev libboost-wave1.71.0 libboost1.71-dev libboost1.71-tools-dev
    