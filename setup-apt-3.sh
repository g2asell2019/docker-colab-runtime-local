#!/bin/bash

set -x -e

export DEBIAN_FRONTEND=noninteractive;

# Install apt packages, listed from "apt list --installed" on colab container
apt install -y --allow-change-held-packages liblsan0 libltdl-dev libltdl7 liblz4-1 liblzma-dev liblzma5 libmagic-mgc libmagic1 libmbedcrypto3 libmbedtls-dev libmbedtls12 libmbedx509-0 libminizip-dev libminizip1 libmnl0 libmount1 libmp3lame0 libmpc3 libmpdec2 libmpfr6 libmpg123-0 libmtdev1 libmysofa1 libmysqlclient-dev libmysqlclient21 libnccl-dev libnccl2 libncurses-dev libncurses5-dev libncurses6 libncursesw5 libncursesw6 libnetcdf-c++4 libnetcdf-dev libnetcdf15 libnettle7 libnghttp2-14 libnl-3-200 libnl-3-dev libnl-route-3-200 libnl-route-3-dev libnorm-dev libnorm1 libnpp-11-8 libnpp-dev-11-8 libnpth0 libnspr4 libnss3 libnuma-dev libnuma1 libnvjpeg-11-8 libnvjpeg-dev-11-8 libobjc-9-dev libobjc4 libodbc1 libogdi-dev libogdi4.1 libogg-dev libogg0 libopenal-data libopenal1 libopenblas-dev libopenblas-pthread-dev libopenblas0-pthread libopenblas0 libopencv-calib3d-dev libopencv-calib3d4.2 libopencv-contrib-dev libopencv-contrib4.2 libopencv-core-dev libopencv-core4.2 libopencv-dev libopencv-dnn-dev libopencv-dnn4.2 libopencv-features2d-dev libopencv-features2d4.2 libopencv-flann-dev libopencv-flann4.2 libopencv-highgui-dev libopencv-highgui4.2 libopencv-imgcodecs-dev libopencv-imgcodecs4.2 libopencv-imgproc-dev libopencv-imgproc4.2 libopencv-ml-dev libopencv-ml4.2 libopencv-objdetect-dev libopencv-objdetect4.2 libopencv-photo-dev libopencv-photo4.2 libopencv-shape-dev libopencv-shape4.2 libopencv-stitching-dev libopencv-stitching4.2 libopencv-superres-dev libopencv-superres4.2 libopencv-ts-dev libopencv-video-dev libopencv-video4.2 libopencv-videoio-dev libopencv-videoio4.2 libopencv-videostab-dev libopencv-videostab4.2 libopencv-viz-dev libopencv-viz4.2 libopencv4.2-java libopencv4.2-jni libopenexr-dev libopenexr24 libopengl0 libopenjp2-7-dev libopenjp2-7 libopenmpi-dev libopenmpi3 libopenmpt0 libopus0 liborc-0.4-0 libp11-kit0 libpackagekit-glib2-18 libpam-modules-bin libpam-modules libpam-runtime libpam-systemd libpam0g libpango-1.0-0 libpangocairo-1.0-0 libpangoft2-1.0-0 libpaper-utils libpaper1 libpathplan4 libpciaccess0 libpcre16-3 libpcre2-16-0 libpcre2-32-0 libpcre2-8-0 libpcre2-dev libpcre2-posix2 libpcre3-dev libpcre32-3 libpcre3 libpcrecpp0v5 libpcsclite1 libperl5.30 libpgm-5.2-0 libpgm-dev libpipeline1 libpixman-1-0 libpmix2 libpng-dev libpng-tools libpng16-16 libpolkit-agent-1-0 libpolkit-gobject-1-0 libpoppler-dev libpoppler-private-dev libpoppler97 libpopt0 libpostproc55 libpq-dev libpq5 libprocps8 libproj-dev libproj19 libprotobuf-java libprotobuf17 libprotoc17 libproxy1v5 libpsl5 libpsm-infinipath1 libpsm2-2 libpthread-stubs0-dev libpulse0 libpython2.7-minimal libpython2.7-stdlib libpython3-dev libpython3-stdlib libpython3.8-dev libpython3.8-minimal libpython3.8-stdlib libpython3.8 libpython3.9-dev libpython3.9-minimal libpython3.9-stdlib libpython3.9 libqhull-dev libqhull-r7 libqhull7 libqt5concurrent5 libqt5core5a libqt5dbus5 libqt5gui5 libqt5network5 libqt5printsupport5 libqt5sql5 libqt5test5 libqt5widgets5 libqt5xml5 libquadmath0 librados2 libraw1394-11 libraw1394-dev librbd1 librdmacm1 libreadline-dev